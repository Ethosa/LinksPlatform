language: csharp  
sudo: required  
dist: trusty  
mono: none
dotnet: 1.1.5
before_script:
  - cd Platform
  - rm Platform.sln
  - rm -r Platform.Data.ConsoleTerminal
  - rm -r Platform.Data.IdClient
  - rm -r Platform.Data.IdServer
  - rm -r Platform.Data.Kernel.Tests
  - rm -r Platform.Data.Kernel
  - rm -r Platform.Data.MasterServer
  - rm -r Platform.Data.SlaveServer
  - rm -r Platform.Data.WebTerminal
  - rm -r Platform.Examples
  - rm -r Platform.Sandbox
  - rm -r Platform.WindowsAPI
  - dotnet migrate
  - dotnet restore
  - dotnet add "Platform.Tests.Runner/Platform.Tests.Runner.csproj" reference "Platform.Tests/Platform.Tests.csproj"
  - dotnet build
script:
  - cd Platform.Tests.Runner
  - dotnet xunit
