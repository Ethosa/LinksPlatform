language: csharp  
sudo: required  
dist: trusty  
mono: none
dotnet: 1.1.5
env:
  global:
    - DOTNET_SKIP_FIRST_TIME_EXPERIENCE: 1
    - DOTNET_CLI_TELEMETRY_OPTOUT: 1
before_script:
  - cd Platform
  - rm Platform.sln
  - rm -r Platform.Data.ConsoleTerminal
  - rm -r Platform.Data.IdClient
  - rm -r Platform.Data.IdServer
  - rm -r Platform.Data.Kernel.Tests
  - rm -r Platform.Data.Kernel
  - rm -r Platform.Data.MasterServer
  - rm -r Platform.Data.SlaveServer
  - rm -r Platform.Data.WebTerminal
  - rm -r Platform.Examples
  - rm -r Platform.Sandbox
  - rm -r Platform.Tests.Runner
  - rm -r Platform.WindowsAPI
  - dotnet migrate
  - dotnet restore
  - dotnet build
script:
  - dotnet test Platform.Tests\Platform.Tests.csproj
