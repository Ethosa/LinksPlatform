-----
Статья "Balancing weight-balanced trees"
(авторы: Yoichi Hirai, Kazuhiko Yamamoto; Япония)
Cambridge University Press, 2011 год
URL: http://hagi.is.s.u-tokyo.ac.jp/~yh/bst.pdf

Статья "Size Balanced Tree"
(автор: Chen Quifeng; Китай)
Zhongshan Memorial Middle School, Guangdong, China, декабрь 2006 года
URL: http://yaoziyuan.googlepages.com/SizeBalancedTree.zip

-----

Плюсы для статьи японцев :

1. В терминологии Yoichi Hirai и Kazuhiko Yamamoto (Japan), weight-balanced trees (WBT)
   - тоже самое, что и size balanced trees (SBT) в терминологии Chen Quifeng (China).

2. Weight-balanced trees используются в функциональных языках программирования -
   в Haskell, Scheme (например, реализованы в трансляторе MIT/GNU Scheme).


Минусы для статьи школьника:

1. В статье школьника (SBT) используется только один вид вращения, single rotation (left/right).
   Для баланса по weight [в статье японцев] требуется (в отличие от SBT) не одно "вращение"
   (rotation), а два : single rotation + double rotation. То есть, ситуация с балансировкой
   - серьёзнее.
   В случае AVL-деревьев, типа вращений также два (малое и большое вращение), каждое из
   которых может быть либо правым, либо левым.

2. В статье японцев рассматривается _не_ 4 случая взаимного расположения вершин
   (соотношения их sizes/weights), как в статье китайского школьника, а 14 случаев.

3. Со времени публикации школьником его статьи (2006 год), на него не было практически
   ни одной серьезной ссылки. Разве что - термин "size balanced" он один из первых
   использовал, поэтому в Google - на первой странице поиска.


Итак, дерево балансируется с помощью single rotation и double rotation.
Балансировка зависит от "весов" поддеревьев, и коэффициентов \Delta и \Gamma.

Ключевые функции для Variant balancing method (variant WBT):

isBalanced :: Set a -> Set a -> Bool
isBalanced a b = x + y <= 1 || delta * x >= y
  where x = size a
        y = size b

isSingle :: Set a -> Set a -> Bool
isSingle a b = size a < gamma * size b

Параметр delta определяет - выполнять ли вращения.
Параметр gamma определяет - какое из вращений выполнять (single или double).

...

Существуют также другие WBT-алгоритмы. Например, Logarithmic BST.




AVL-деревья (с Википедии),
Относительно AVL-дерева балансировкой вершины называется операция, которая в случае
разницы высот левого и правого поддеревьев = 2, изменяет связи предок-потомок в поддереве
данной вершины так, что разница становится <= 1, иначе ничего не меняет. Указанный
результат получается вращениями поддерева данной вершины. В терминологии WBT-деревьев,
вращения называются "одинарным" и "двойным" (single rotation, double rotation).

Факт про AVL-деревья:
... высота АВЛ-дерева никогда не превысит высоту идеально сбалансированного дерева
более, чем на 45% ...

Про AVL-деревья:
Операции вращения производятся на основании "показателей балансировки" (см. Википедию
на русском языке). К вершинам дерева (tree nodes) помимо key, добавляется поле balance.


